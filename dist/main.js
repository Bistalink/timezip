"use strict";var qe=Object.create;var X=Object.defineProperty;var Ge=Object.getOwnPropertyDescriptor;var Ve=Object.getOwnPropertyNames;var je=Object.getPrototypeOf,Xe=Object.prototype.hasOwnProperty;var F=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),be=(e,t)=>{for(var i in t)X(e,i,{get:t[i],enumerable:!0})},ue=(e,t,i,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ve(t))!Xe.call(e,s)&&s!==i&&X(e,s,{get:()=>t[s],enumerable:!(a=Ge(t,s))||a.enumerable});return e};var $=(e,t,i)=>(i=e!=null?qe(je(e)):{},ue(t||!e||!e.__esModule?X(i,"default",{value:e,enumerable:!0}):i,e)),Ke=e=>ue(X({},"__esModule",{value:!0}),e);var Q=F(ae=>{ae.require=function(){if(typeof process=="object"&&process.versions&&process.versions.electron)try{let e=require("original-fs");if(Object.keys(e).length>0)return e}catch{}return require("fs")}});var k=F((lt,Ee)=>{Ee.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}});var ee=F((dt,le)=>{le.exports={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed",FILE_IN_THE_WAY:"There is a file in the way: %s",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:"File not found: %s",NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found"}});var he=F((mt,Ie)=>{var We=Q().require(),R=require("path"),de=k(),Je=ee(),Ye=typeof process=="object"&&process.platform==="win32",me=e=>e&&typeof e=="object",te=new Uint32Array(256).map((e,t)=>{for(let i=0;i<8;i++)t&1?t=3988292384^t>>>1:t>>>=1;return t>>>0});function w(e){this.sep=R.sep,this.fs=We,me(e)&&me(e.fs)&&typeof e.fs.statSync=="function"&&(this.fs=e.fs)}Ie.exports=w;w.prototype.makeDir=function(e){let t=this;function i(a){let s=a.split(t.sep)[0];a.split(t.sep).forEach(function(o){if(!(!o||o.substr(-1,1)===":")){s+=t.sep+o;var h;try{h=t.fs.statSync(s)}catch{t.fs.mkdirSync(s)}if(h&&h.isFile())throw Je.FILE_IN_THE_WAY.replace("%s",s)}})}i(e)};w.prototype.writeFileTo=function(e,t,i,a){let s=this;if(s.fs.existsSync(e)){if(!i)return!1;var o=s.fs.statSync(e);if(o.isDirectory())return!1}var h=R.dirname(e);s.fs.existsSync(h)||s.makeDir(h);var y;try{y=s.fs.openSync(e,"w",438)}catch{s.fs.chmodSync(e,438),y=s.fs.openSync(e,"w",438)}if(y)try{s.fs.writeSync(y,t,0,t.length,0)}finally{s.fs.closeSync(y)}return s.fs.chmodSync(e,a||438),!0};w.prototype.writeFileToAsync=function(e,t,i,a,s){typeof a=="function"&&(s=a,a=void 0);let o=this;o.fs.exists(e,function(h){if(h&&!i)return s(!1);o.fs.stat(e,function(y,N){if(h&&N.isDirectory())return s(!1);var L=R.dirname(e);o.fs.exists(L,function(c){c||o.makeDir(L),o.fs.open(e,"w",438,function(l,d){l?o.fs.chmod(e,438,function(){o.fs.open(e,"w",438,function(u,r){o.fs.write(r,t,0,t.length,0,function(){o.fs.close(r,function(){o.fs.chmod(e,a||438,function(){s(!0)})})})})}):d?o.fs.write(d,t,0,t.length,0,function(){o.fs.close(d,function(){o.fs.chmod(e,a||438,function(){s(!0)})})}):o.fs.chmod(e,a||438,function(){s(!0)})})})})})};w.prototype.findFiles=function(e){let t=this;function i(a,s,o){typeof s=="boolean"&&(o=s,s=void 0);let h=[];return t.fs.readdirSync(a).forEach(function(y){var N=R.join(a,y);t.fs.statSync(N).isDirectory()&&o&&(h=h.concat(i(N,s,o))),(!s||s.test(N))&&h.push(R.normalize(N)+(t.fs.statSync(N).isDirectory()?t.sep:""))}),h}return i(e,void 0,!0)};w.prototype.getAttributes=function(){};w.prototype.setAttributes=function(){};w.crc32update=function(e,t){return te[(e^t)&255]^e>>>8};w.crc32=function(e){typeof e=="string"&&(e=Buffer.from(e,"utf8")),te.length||genCRCTable();let t=e.length,i=-1;for(let a=0;a<t;)i=w.crc32update(i,e[a++]);return~i>>>0};w.methodToString=function(e){switch(e){case de.STORED:return"STORED ("+e+")";case de.DEFLATED:return"DEFLATED ("+e+")";default:return"UNSUPPORTED ("+e+")"}};w.canonical=function(e){if(!e)return"";var t=R.posix.normalize("/"+e.split("\\").join("/"));return R.join(".",t)};w.sanitize=function(e,t){e=R.resolve(R.normalize(e));for(var i=t.split("/"),a=0,s=i.length;a<s;a++){var o=R.normalize(R.join(e,i.slice(a,s).join(R.sep)));if(o.indexOf(e)===0)return o}return R.normalize(R.join(e,R.basename(t)))};w.toBuffer=function(t){return Buffer.isBuffer(t)?t:t instanceof Uint8Array?Buffer.from(t):typeof t=="string"?Buffer.from(t,"utf8"):Buffer.alloc(0)};w.readBigUInt64LE=function(e,t){var i=Buffer.from(e.slice(t,t+8));return i.swap64(),parseInt(`0x${i.toString("hex")}`)};w.isWin=Ye;w.crcTable=te});var ye=F((It,Ne)=>{var b=Q().require(),ge=require("path");b.existsSync=b.existsSync||ge.existsSync;Ne.exports=function(e){var t=e||"",i=s(),a=null;function s(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return t&&b.existsSync(t)?(a=b.statSync(t),i.directory=a.isDirectory(),i.mtime=a.mtime,i.atime=a.atime,i.executable=(73&a.mode)!==0,i.readonly=(128&a.mode)===0,i.hidden=ge.basename(t)[0]==="."):console.warn("Invalid path: "+t),{get directory(){return i.directory},get readOnly(){return i.readonly},get hidden(){return i.hidden},get mtime(){return i.mtime},get atime(){return i.atime},get executable(){return i.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:t,isDirectory:i.directory,isReadOnly:i.readonly,isHidden:i.hidden,isExecutable:i.executable,mTime:i.mtime,aTime:i.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var z=F((ht,G)=>{G.exports=he();G.exports.Constants=k();G.exports.Errors=ee();G.exports.FileAttr=ye()});var Le=F((gt,De)=>{var V=z(),I=V.Constants;De.exports=function(){var e=20,t=10,i=0,a=0,s=0,o=0,h=0,y=0,N=0,L=0,c=0,l=0,d=0,u=0,r=0;e|=V.isWin?2560:768,i|=I.FLG_EFS;var f={};function E(n){n=new Date(n),s=(n.getFullYear()-1980&127)<<25|n.getMonth()+1<<21|n.getDate()<<16|n.getHours()<<11|n.getMinutes()<<5|n.getSeconds()>>1}return E(+new Date),{get made(){return e},set made(n){e=n},get version(){return t},set version(n){t=n},get flags(){return i},set flags(n){i=n},get method(){return a},set method(n){switch(n){case I.STORED:this.version=10;case I.DEFLATED:default:this.version=20}a=n},get time(){return new Date((s>>25&127)+1980,(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(s&31)<<1)},set time(n){E(n)},get crc(){return o},set crc(n){o=Math.max(0,n)>>>0},get compressedSize(){return h},set compressedSize(n){h=Math.max(0,n)>>>0},get size(){return y},set size(n){y=Math.max(0,n)>>>0},get fileNameLength(){return N},set fileNameLength(n){N=n},get extraLength(){return L},set extraLength(n){L=n},get commentLength(){return c},set commentLength(n){c=n},get diskNumStart(){return l},set diskNumStart(n){l=Math.max(0,n)>>>0},get inAttr(){return d},set inAttr(n){d=Math.max(0,n)>>>0},get attr(){return u},set attr(n){u=Math.max(0,n)>>>0},get fileAttr(){return u?(u>>>0|0)>>16&4095:0},get offset(){return r},set offset(n){r=Math.max(0,n)>>>0},get encripted(){return(i&1)===1},get entryHeaderSize(){return I.CENHDR+N+L+c},get realDataOffset(){return r+I.LOCHDR+f.fnameLen+f.extraLen},get dataHeader(){return f},loadDataHeaderFromBinary:function(n){var m=n.slice(r,r+I.LOCHDR);if(m.readUInt32LE(0)!==I.LOCSIG)throw new Error(V.Errors.INVALID_LOC);f={version:m.readUInt16LE(I.LOCVER),flags:m.readUInt16LE(I.LOCFLG),method:m.readUInt16LE(I.LOCHOW),time:m.readUInt32LE(I.LOCTIM),crc:m.readUInt32LE(I.LOCCRC),compressedSize:m.readUInt32LE(I.LOCSIZ),size:m.readUInt32LE(I.LOCLEN),fnameLen:m.readUInt16LE(I.LOCNAM),extraLen:m.readUInt16LE(I.LOCEXT)}},loadFromBinary:function(n){if(n.length!==I.CENHDR||n.readUInt32LE(0)!==I.CENSIG)throw new Error(V.Errors.INVALID_CEN);e=n.readUInt16LE(I.CENVEM),t=n.readUInt16LE(I.CENVER),i=n.readUInt16LE(I.CENFLG),a=n.readUInt16LE(I.CENHOW),s=n.readUInt32LE(I.CENTIM),o=n.readUInt32LE(I.CENCRC),h=n.readUInt32LE(I.CENSIZ),y=n.readUInt32LE(I.CENLEN),N=n.readUInt16LE(I.CENNAM),L=n.readUInt16LE(I.CENEXT),c=n.readUInt16LE(I.CENCOM),l=n.readUInt16LE(I.CENDSK),d=n.readUInt16LE(I.CENATT),u=n.readUInt32LE(I.CENATX),r=n.readUInt32LE(I.CENOFF)},dataHeaderToBinary:function(){var n=Buffer.alloc(I.LOCHDR);return n.writeUInt32LE(I.LOCSIG,0),n.writeUInt16LE(t,I.LOCVER),n.writeUInt16LE(i,I.LOCFLG),n.writeUInt16LE(a,I.LOCHOW),n.writeUInt32LE(s,I.LOCTIM),n.writeUInt32LE(o,I.LOCCRC),n.writeUInt32LE(h,I.LOCSIZ),n.writeUInt32LE(y,I.LOCLEN),n.writeUInt16LE(N,I.LOCNAM),n.writeUInt16LE(L,I.LOCEXT),n},entryHeaderToBinary:function(){var n=Buffer.alloc(I.CENHDR+N+L+c);return n.writeUInt32LE(I.CENSIG,0),n.writeUInt16LE(e,I.CENVEM),n.writeUInt16LE(t,I.CENVER),n.writeUInt16LE(i,I.CENFLG),n.writeUInt16LE(a,I.CENHOW),n.writeUInt32LE(s,I.CENTIM),n.writeUInt32LE(o,I.CENCRC),n.writeUInt32LE(h,I.CENSIZ),n.writeUInt32LE(y,I.CENLEN),n.writeUInt16LE(N,I.CENNAM),n.writeUInt16LE(L,I.CENEXT),n.writeUInt16LE(c,I.CENCOM),n.writeUInt16LE(l,I.CENDSK),n.writeUInt16LE(d,I.CENATT),n.writeUInt32LE(u,I.CENATX),n.writeUInt32LE(r,I.CENOFF),n.fill(0,I.CENHDR),n},toJSON:function(){let n=function(m){return m+" bytes"};return{made:e,version:t,flags:i,method:V.methodToString(a),time:this.time,crc:"0x"+o.toString(16).toUpperCase(),compressedSize:n(h),size:n(y),fileNameLength:n(N),extraLength:n(L),commentLength:n(c),diskNumStart:l,inAttr:d,attr:u,offset:r,entryHeaderSize:n(I.CENHDR+N+L+c)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var Se=F((Nt,Ce)=>{var P=z(),S=P.Constants;Ce.exports=function(){var e=0,t=0,i=0,a=0,s=0;return{get diskEntries(){return e},set diskEntries(o){e=t=o},get totalEntries(){return t},set totalEntries(o){t=e=o},get size(){return i},set size(o){i=o},get offset(){return a},set offset(o){a=o},get commentLength(){return s},set commentLength(o){s=o},get mainHeaderSize(){return S.ENDHDR+s},loadFromBinary:function(o){if((o.length!==S.ENDHDR||o.readUInt32LE(0)!==S.ENDSIG)&&(o.length<S.ZIP64HDR||o.readUInt32LE(0)!==S.ZIP64SIG))throw new Error(P.Errors.INVALID_END);o.readUInt32LE(0)===S.ENDSIG?(e=o.readUInt16LE(S.ENDSUB),t=o.readUInt16LE(S.ENDTOT),i=o.readUInt32LE(S.ENDSIZ),a=o.readUInt32LE(S.ENDOFF),s=o.readUInt16LE(S.ENDCOM)):(e=P.readBigUInt64LE(o,S.ZIP64SUB),t=P.readBigUInt64LE(o,S.ZIP64TOT),i=P.readBigUInt64LE(o,S.ZIP64SIZE),a=P.readBigUInt64LE(o,S.ZIP64OFF),s=0)},toBinary:function(){var o=Buffer.alloc(S.ENDHDR+s);return o.writeUInt32LE(S.ENDSIG,0),o.writeUInt32LE(0,4),o.writeUInt16LE(e,S.ENDSUB),o.writeUInt16LE(t,S.ENDTOT),o.writeUInt32LE(i,S.ENDSIZ),o.writeUInt32LE(a,S.ENDOFF),o.writeUInt16LE(s,S.ENDCOM),o.fill(" ",S.ENDHDR),o},toJSON:function(){let o=function(h,y){let N=h.toString(16).toUpperCase();for(;N.length<y;)N="0"+N;return"0x"+N};return{diskEntries:e,totalEntries:t,size:i+" bytes",offset:o(a,4),commentLength:s}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var re=F(ne=>{ne.EntryHeader=Le();ne.MainHeader=Se()});var pe=F((Dt,_e)=>{_e.exports=function(e){var t=require("zlib"),i={chunkSize:(parseInt(e.length/1024)+1)*1024};return{deflate:function(){return t.deflateRawSync(e,i)},deflateAsync:function(a){var s=t.createDeflateRaw(i),o=[],h=0;s.on("data",function(y){o.push(y),h+=y.length}),s.on("end",function(){var y=Buffer.alloc(h),N=0;y.fill(0);for(var L=0;L<o.length;L++){var c=o[L];c.copy(y,N),N+=c.length}a&&a(y)}),s.end(e)}}}});var Te=F((Lt,Oe)=>{Oe.exports=function(e){var t=require("zlib");return{inflate:function(){return t.inflateRawSync(e)},inflateAsync:function(i){var a=t.createInflateRaw(),s=[],o=0;a.on("data",function(h){s.push(h),o+=h.length}),a.on("end",function(){var h=Buffer.alloc(o),y=0;h.fill(0);for(var N=0;N<s.length;N++){var L=s[N];L.copy(h,y),y+=L.length}i&&i(h)}),a.end(e)}}}});var Ue=F((Ct,Fe)=>{"use strict";var{randomFillSync:xe}=require("crypto"),$e=new Uint32Array(256).map((e,t)=>{for(let i=0;i<8;i++)t&1?t=t>>>1^3988292384:t>>>=1;return t>>>0}),Ae=(e,t)=>Math.imul(e,t)>>>0,we=(e,t)=>$e[(e^t)&255]^e>>>8,j=()=>typeof xe=="function"?xe(Buffer.alloc(12)):j.node();j.node=()=>{let e=Buffer.alloc(12),t=e.length;for(let i=0;i<t;i++)e[i]=Math.random()*256&255;return e};var K={genSalt:j};function W(e){let t=Buffer.isBuffer(e)?e:Buffer.from(e);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let i=0;i<t.length;i++)this.updateKeys(t[i])}W.prototype.updateKeys=function(e){let t=this.keys;return t[0]=we(t[0],e),t[1]+=t[0]&255,t[1]=Ae(t[1],134775813)+1,t[2]=we(t[2],t[1]>>>24),e};W.prototype.next=function(){let e=(this.keys[2]|2)>>>0;return Ae(e,e^1)>>8&255};function Qe(e){let t=new W(e);return function(i){let a=Buffer.alloc(i.length),s=0;for(let o of i)a[s++]=t.updateKeys(o^t.next());return a}}function ke(e){let t=new W(e);return function(i,a,s=0){a||(a=Buffer.alloc(i.length));for(let o of i){let h=t.next();a[s++]=o^h,t.updateKeys(o)}return a}}function et(e,t,i){if(!e||!Buffer.isBuffer(e)||e.length<12)return Buffer.alloc(0);let a=Qe(i);if(a(e.slice(0,12))[11]!==t.crc>>>24)throw"ADM-ZIP: Wrong Password";return a(e.slice(12))}function tt(e){Buffer.isBuffer(e)&&e.length>=12?K.genSalt=function(){return e.slice(0,12)}:e==="node"?K.genSalt=j.node:K.genSalt=j}function nt(e,t,i,a=!1){e==null&&(e=Buffer.alloc(0)),Buffer.isBuffer(e)||(e=Buffer.from(e.toString()));let s=ke(i),o=K.genSalt();o[11]=t.crc>>>24&255,a&&(o[10]=t.crc>>>16&255);let h=Buffer.alloc(e.length+12);return s(o,h),s(e,h,12)}Fe.exports={decrypt:et,encrypt:nt,_salter:tt}});var Re=F(J=>{J.Deflater=pe();J.Inflater=Te();J.ZipCrypto=Ue()});var ie=F((_t,ve)=>{var _=z(),rt=re(),v=_.Constants,oe=Re();ve.exports=function(e){var t=new rt.EntryHeader,i=Buffer.alloc(0),a=Buffer.alloc(0),s=!1,o=null,h=Buffer.alloc(0);function y(){return!e||!Buffer.isBuffer(e)?Buffer.alloc(0):(t.loadDataHeaderFromBinary(e),e.slice(t.realDataOffset,t.realDataOffset+t.compressedSize))}function N(r){return!((t.flags&8)!==8&&_.crc32(r)!==t.dataHeader.crc)}function L(r,f,E){if(typeof f>"u"&&typeof r=="string"&&(E=r,r=void 0),s)return r&&f&&f(Buffer.alloc(0),_.Errors.DIRECTORY_CONTENT_ERROR),Buffer.alloc(0);var n=y();if(n.length===0)return r&&f&&f(n),n;if(t.encripted){if(typeof E!="string"&&!Buffer.isBuffer(E))throw new Error("ADM-ZIP: Incompatible password parameter");n=oe.ZipCrypto.decrypt(n,t,E)}var m=Buffer.alloc(t.size);switch(t.method){case _.Constants.STORED:if(n.copy(m),N(m))return r&&f&&f(m),m;throw r&&f&&f(m,_.Errors.BAD_CRC),new Error(_.Errors.BAD_CRC);case _.Constants.DEFLATED:var g=new oe.Inflater(n);if(r)g.inflateAsync(function(D){D.copy(D,0),f&&(N(D)?f(D):f(D,_.Errors.BAD_CRC))});else{if(g.inflate(m).copy(m,0),!N(m))throw new Error(_.Errors.BAD_CRC+" "+i.toString());return m}break;default:throw r&&f&&f(Buffer.alloc(0),_.Errors.UNKNOWN_METHOD),new Error(_.Errors.UNKNOWN_METHOD)}}function c(r,f){if((!o||!o.length)&&Buffer.isBuffer(e))return r&&f&&f(y()),y();if(o.length&&!s){var E;switch(t.method){case _.Constants.STORED:return t.compressedSize=t.size,E=Buffer.alloc(o.length),o.copy(E),r&&f&&f(E),E;default:case _.Constants.DEFLATED:var n=new oe.Deflater(o);if(r)n.deflateAsync(function(g){E=Buffer.alloc(g.length),t.compressedSize=g.length,g.copy(E),f&&f(E)});else{var m=n.deflate();return t.compressedSize=m.length,m}n=null;break}}else if(r&&f)f(Buffer.alloc(0));else return Buffer.alloc(0)}function l(r,f){return(r.readUInt32LE(f+4)<<4)+r.readUInt32LE(f)}function d(r){for(var f=0,E,n,m;f<r.length;)E=r.readUInt16LE(f),f+=2,n=r.readUInt16LE(f),f+=2,m=r.slice(f,f+n),f+=n,v.ID_ZIP64===E&&u(m)}function u(r){var f,E,n,m;r.length>=v.EF_ZIP64_SCOMP&&(f=l(r,v.EF_ZIP64_SUNCOMP),t.size===v.EF_ZIP64_OR_32&&(t.size=f)),r.length>=v.EF_ZIP64_RHO&&(E=l(r,v.EF_ZIP64_SCOMP),t.compressedSize===v.EF_ZIP64_OR_32&&(t.compressedSize=E)),r.length>=v.EF_ZIP64_DSN&&(n=l(r,v.EF_ZIP64_RHO),t.offset===v.EF_ZIP64_OR_32&&(t.offset=n)),r.length>=v.EF_ZIP64_DSN+4&&(m=r.readUInt32LE(v.EF_ZIP64_DSN),t.diskNumStart===v.EF_ZIP64_OR_16&&(t.diskNumStart=m))}return{get entryName(){return i.toString()},get rawEntryName(){return i},set entryName(r){i=_.toBuffer(r);var f=i[i.length-1];s=f===47||f===92,t.fileNameLength=i.length},get extra(){return h},set extra(r){h=r,t.extraLength=r.length,d(r)},get comment(){return a.toString()},set comment(r){a=_.toBuffer(r),t.commentLength=a.length},get name(){var r=i.toString();return s?r.substr(r.length-1).split("/").pop():r.split("/").pop()},get isDirectory(){return s},getCompressedData:function(){return c(!1,null)},getCompressedDataAsync:function(r){c(!0,r)},setData:function(r){o=_.toBuffer(r),!s&&o.length?(t.size=o.length,t.method=_.Constants.DEFLATED,t.crc=_.crc32(r),t.changed=!0):t.method=_.Constants.STORED},getData:function(r){return t.changed?o:L(!1,null,r)},getDataAsync:function(r,f){t.changed?r(o):L(!0,r,f)},set attr(r){t.attr=r},get attr(){return t.attr},set header(r){t.loadFromBinary(r)},get header(){return t},packHeader:function(){var r=t.entryHeaderToBinary(),f=_.Constants.CENHDR;return i.copy(r,f),f+=i.length,t.extraLength&&(h.copy(r,f),f+=t.extraLength),t.commentLength&&a.copy(r,f),r},toJSON:function(){let r=function(f){return"<"+(f&&f.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:t.toJSON(),compressedData:r(e),data:r(o)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var Ze=F((pt,He)=>{var Be=ie(),ot=re(),U=z();He.exports=function(e,t){var i=[],a={},s=Buffer.alloc(0),o=new ot.MainHeader,h=!1;let y=Object.assign(Object.create(null),t),{noSort:N}=y;e?l(y.readEntries):h=!0;function L(u){let r=o.diskEntries,f=o.offset;for(let E=0;E<r;E++){let n=f,m=new Be(e);m.header=e.slice(n,n+=U.Constants.CENHDR),m.entryName=e.slice(n,n+=m.header.fileNameLength),f+=m.header.entryHeaderSize,u(m)}}function c(){h=!0,a={},i=new Array(o.diskEntries);for(var u=o.offset,r=0;r<i.length;r++){var f=u,E=new Be(e);E.header=e.slice(f,f+=U.Constants.CENHDR),E.entryName=e.slice(f,f+=E.header.fileNameLength),E.header.extraLength&&(E.extra=e.slice(f,f+=E.header.extraLength)),E.header.commentLength&&(E.comment=e.slice(f,f+E.header.commentLength)),u+=E.header.entryHeaderSize,i[r]=E,a[E.entryName]=E}}function l(u){var r=e.length-U.Constants.ENDHDR,f=Math.max(0,r-65535),E=f,n=e.length,m=-1,g=0;for(r;r>=E;r--)if(e[r]===80){if(e.readUInt32LE(r)===U.Constants.ENDSIG){m=r,g=r,n=r+U.Constants.ENDHDR,E=r-U.Constants.END64HDR;continue}if(e.readUInt32LE(r)===U.Constants.END64SIG){E=f;continue}if(e.readUInt32LE(r)===U.Constants.ZIP64SIG){m=r,n=r+U.readBigUInt64LE(e,r+U.Constants.ZIP64SIZE)+U.Constants.ZIP64LEAD;break}}if(!~m)throw new Error(U.Errors.INVALID_FORMAT);o.loadFromBinary(e.slice(m,n)),o.commentLength&&(s=e.slice(g+U.Constants.ENDHDR)),u&&c()}function d(){i.length>1&&!N&&i.sort((u,r)=>u.entryName.toLowerCase().localeCompare(r.entryName.toLowerCase()))}return{get entries(){return h||c(),i},get comment(){return s.toString()},set comment(u){s=U.toBuffer(u),o.commentLength=s.length},getEntryCount:function(){return h?i.length:o.diskEntries},forEach:function(u){if(!h){L(u);return}i.forEach(u)},getEntry:function(u){return h||c(),a[u]||null},setEntry:function(u){h||c(),i.push(u),a[u.entryName]=u,o.totalEntries=i.length},deleteEntry:function(u){h||c();var r=a[u];if(r&&r.isDirectory){var f=this;this.getEntryChildren(r).forEach(function(E){E.entryName!==u&&f.deleteEntry(E.entryName)})}i.splice(i.indexOf(r),1),delete a[u],o.totalEntries=i.length},getEntryChildren:function(u){if(h||c(),u&&u.isDirectory){let r=[],f=u.entryName,E=f.length;return i.forEach(function(n){n.entryName.substr(0,E)===f&&r.push(n)}),r}return[]},compressToBuffer:function(){h||c(),d();let u=[],r=[],f=0,E=0;o.size=0,o.offset=0;for(let g of i){let D=g.getCompressedData();g.header.offset=E;let O=g.header.dataHeaderToBinary(),p=g.rawEntryName.length,C=Buffer.alloc(p+g.extra.length);g.rawEntryName.copy(C,0),C.copy(g.extra,p);let x=O.length+C.length+D.length;E+=x,u.push(O),u.push(C),u.push(D);let A=g.packHeader();r.push(A),o.size+=A.length,f+=x+A.length}f+=o.mainHeaderSize,o.offset=E,E=0;let n=Buffer.alloc(f);for(let g of u)g.copy(n,E),E+=g.length;for(let g of r)g.copy(n,E),E+=g.length;let m=o.toBinary();return s&&s.copy(m,U.Constants.ENDHDR),m.copy(n,E),n},toAsyncBuffer:function(u,r,f,E){try{h||c(),d();let n=[],m=[],g=0,D=0;o.size=0,o.offset=0;let O=function(p){if(p.length){let C=p.pop(),x=C.entryName+C.extra.toString();f&&f(x),C.getCompressedDataAsync(function(A){E&&E(x),C.header.offset=D;let M=C.header.dataHeaderToBinary(),fe=Buffer.alloc(x.length,x),ce=M.length+fe.length+A.length;D+=ce,n.push(M),n.push(fe),n.push(A);let Y=C.packHeader();m.push(Y),o.size+=Y.length,g+=ce+Y.length,O(p)})}else{g+=o.mainHeaderSize,o.offset=D,D=0;let C=Buffer.alloc(g);n.forEach(function(A){A.copy(C,D),D+=A.length}),m.forEach(function(A){A.copy(C,D),D+=A.length});let x=o.toBinary();s&&s.copy(x,U.Constants.ENDHDR),x.copy(C,D),u(C)}};O(i)}catch(n){r(n)}}}}});var ze=F((Ot,Me)=>{var T=z(),B=require("path"),it=ie(),st=Ze(),H=(e,t)=>typeof e=="boolean"?e:t,se=(e,t)=>typeof e=="string"?e:t,ft={noSort:!1,readEntries:!1,method:T.Constants.NONE,fs:null};Me.exports=function(e,t){let i=null,a=Object.assign(Object.create(null),ft);e&&typeof e=="object"&&(e instanceof Uint8Array||(Object.assign(a,e),e=a.input?a.input:void 0,a.input&&delete a.input),Buffer.isBuffer(e)&&(i=e,a.method=T.Constants.BUFFER,e=void 0)),Object.assign(a,t);let s=new T(a);if(e&&typeof e=="string")if(s.fs.existsSync(e))a.method=T.Constants.FILE,a.filename=e,i=s.fs.readFileSync(e);else throw new Error(T.Errors.INVALID_FILENAME);let o=new st(i,a),{canonical:h,sanitize:y}=T;function N(c){if(c&&o){var l;if(typeof c=="string"&&(l=o.getEntry(c)),typeof c=="object"&&typeof c.entryName<"u"&&typeof c.header<"u"&&(l=o.getEntry(c.entryName)),l)return l}return null}function L(c){let{join:l,normalize:d,sep:u}=B.posix;return l(".",d(u+c.split("\\").join(u)+u))}return{readFile:function(c,l){var d=N(c);return d&&d.getData(l)||null},readFileAsync:function(c,l){var d=N(c);d?d.getDataAsync(l):l(null,"getEntry failed for:"+c)},readAsText:function(c,l){var d=N(c);if(d){var u=d.getData();if(u&&u.length)return u.toString(l||"utf8")}return""},readAsTextAsync:function(c,l,d){var u=N(c);u?u.getDataAsync(function(r,f){if(f){l(r,f);return}r&&r.length?l(r.toString(d||"utf8")):l("")}):l("")},deleteFile:function(c){var l=N(c);l&&o.deleteEntry(l.entryName)},addZipComment:function(c){o.comment=c},getZipComment:function(){return o.comment||""},addZipEntryComment:function(c,l){var d=N(c);d&&(d.comment=l)},getZipEntryComment:function(c){var l=N(c);return l&&l.comment||""},updateFile:function(c,l){var d=N(c);d&&d.setData(l)},addLocalFile:function(c,l,d,u){if(s.fs.existsSync(c)){l=l?L(l):"";var r=c.split("\\").join("/").split("/").pop();l+=d||r;let f=s.fs.statSync(c);this.addFile(l,s.fs.readFileSync(c),u,f)}else throw new Error(T.Errors.FILE_NOT_FOUND.replace("%s",c))},addLocalFolder:function(c,l,d,u){if(d instanceof RegExp?d=function(r){return function(f){return r.test(f)}}(d):typeof d!="function"&&(d=function(){return!0}),l=l?L(l):"",c=B.normalize(c),s.fs.existsSync(c)){let r=s.findFiles(c),f=this;r.length&&r.forEach(function(E){var n=B.relative(c,E).split("\\").join("/");if(d(n)){var m=s.fs.statSync(E);m.isFile()?f.addFile(l+n,s.fs.readFileSync(E),"",u||m):f.addFile(l+n+"/",Buffer.alloc(0),"",u||m)}})}else throw new Error(T.Errors.FILE_NOT_FOUND.replace("%s",c))},addLocalFolderAsync:function(c,l,d,u){u instanceof RegExp?u=function(f){return function(E){return f.test(E)}}(u):typeof u!="function"&&(u=function(){return!0}),d=d?L(d):"",c=B.normalize(c);var r=this;s.fs.open(c,"r",function(f){if(f&&f.code==="ENOENT")l(void 0,T.Errors.FILE_NOT_FOUND.replace("%s",c));else if(f)l(void 0,f);else{var E=s.findFiles(c),n=-1,m=function(){if(n+=1,n<E.length){var g=E[n],D=B.relative(c,g).split("\\").join("/");D=D.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),u(D)?s.fs.stat(g,function(O,p){O&&l(void 0,O),p.isFile()?s.fs.readFile(g,function(C,x){C?l(void 0,C):(r.addFile(d+D,x,"",p),m())}):(r.addFile(d+D+"/",Buffer.alloc(0),"",p),m())}):process.nextTick(()=>{m()})}else l(!0,void 0)};m()}})},addLocalFolderPromise:function(c,l){return new Promise((d,u)=>{let{filter:r,zipPath:f}=Object.assign({},l);this.addLocalFolderAsync(c,(E,n)=>{n&&u(n),E&&d(this)},f,r)})},addFile:function(c,l,d,u){let r=N(c),f=r!=null;f||(r=new it,r.entryName=c),r.comment=d||"";let E=typeof u=="object"&&u instanceof s.fs.Stats;E&&(r.header.time=u.mtime);var n=r.isDirectory?16:0;let m=r.isDirectory?16384:32768;E?m|=4095&u.mode:typeof u=="number"?m|=4095&u:m|=r.isDirectory?493:420,n=(n|m<<16)>>>0,r.attr=n,r.setData(l),f||o.setEntry(r)},getEntries:function(){return o?o.entries:[]},getEntry:function(c){return N(c)},getEntryCount:function(){return o.getEntryCount()},forEach:function(c){return o.forEach(c)},extractEntryTo:function(c,l,d,u,r,f){u=H(u,!1),r=H(r,!1),d=H(d,!0),f=se(f,se(r,void 0));var E=N(c);if(!E)throw new Error(T.Errors.NO_ENTRY);var n=h(E.entryName),m=y(l,f&&!E.isDirectory?f:d?n:B.basename(n));if(E.isDirectory){var g=o.getEntryChildren(E);return g.forEach(function(p){if(p.isDirectory)return;var C=p.getData();if(!C)throw new Error(T.Errors.CANT_EXTRACT_FILE);var x=h(p.entryName),A=y(l,d?x:B.basename(x));let M=r?p.header.fileAttr:void 0;s.writeFileTo(A,C,u,M)}),!0}var D=E.getData();if(!D)throw new Error(T.Errors.CANT_EXTRACT_FILE);if(s.fs.existsSync(m)&&!u)throw new Error(T.Errors.CANT_OVERRIDE);let O=r?c.header.fileAttr:void 0;return s.writeFileTo(m,D,u,O),!0},test:function(c){if(!o)return!1;for(var l in o.entries)try{if(l.isDirectory)continue;var d=o.entries[l].getData(c);if(!d)return!1}catch{return!1}return!0},extractAllTo:function(c,l,d,u){if(l=H(l,!1),u=se(d,u),d=H(d,!1),!o)throw new Error(T.Errors.NO_ZIP);o.entries.forEach(function(r){var f=y(c,h(r.entryName.toString()));if(r.isDirectory){s.makeDir(f);return}var E=r.getData(u);if(!E)throw new Error(T.Errors.CANT_EXTRACT_FILE);let n=d?r.header.fileAttr:void 0;s.writeFileTo(f,E,l,n);try{s.fs.utimesSync(f,r.header.time,r.header.time)}catch{throw new Error(T.Errors.CANT_EXTRACT_FILE)}})},extractAllToAsync:function(c,l,d,u){if(l=H(l,!1),typeof d=="function"&&!u&&(u=d),d=H(d,!1),u||(u=function(g){throw new Error(g)}),!o){u(new Error(T.Errors.NO_ZIP));return}c=B.resolve(c);let r=g=>y(c,B.normalize(h(g.entryName.toString()))),f=(g,D)=>new Error(g+': "'+D+'"'),E=[],n=new Set;o.entries.forEach(g=>{g.isDirectory?E.push(g):n.add(g)});for(let g of E){let D=r(g),O=d?g.header.fileAttr:void 0;try{s.makeDir(D),O&&s.fs.chmodSync(D,O),s.fs.utimesSync(D,g.header.time,g.header.time)}catch{u(f("Unable to create folder",D))}}let m=()=>{n.size===0&&u()};for(let g of n.values()){let D=B.normalize(h(g.entryName.toString())),O=y(c,D);g.getDataAsync(function(p,C){if(C){u(new Error(C));return}if(!p)u(new Error(T.Errors.CANT_EXTRACT_FILE));else{let x=d?g.header.fileAttr:void 0;s.writeFileToAsync(O,p,l,x,function(A){if(!A){u(f("Unable to write file",O));return}s.fs.utimes(O,g.header.time,g.header.time,function(M){if(M){u(f("Unable to set times",O));return}n.delete(g),m()})})}})}m()},writeZip:function(c,l){if(arguments.length===1&&typeof c=="function"&&(l=c,c=""),!c&&a.filename&&(c=a.filename),!!c){var d=o.compressToBuffer();if(d){var u=s.writeFileTo(c,d,!0);typeof l=="function"&&l(u?null:new Error("failed"),"")}}},writeZipPromise:function(c,l){let{overwrite:d,perm:u}=Object.assign({overwrite:!0},l);return new Promise((r,f)=>{!c&&a.filename&&(c=a.filename),c||f("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(E=>{let n=m=>m?r(m):f("ADM-ZIP: Wasn't able to write zip file");s.writeFileToAsync(c,E,d,u,n)},f)})},toBufferPromise:function(){return new Promise((c,l)=>{o.toAsyncBuffer(c,l)})},toBuffer:function(c,l,d,u){return this.valueOf=2,typeof c=="function"?(o.toAsyncBuffer(c,l,d,u),null):o.compressToBuffer()}}}});var ut={};be(ut,{default:()=>ct});module.exports=Ke(ut);var Z=$(require("path")),q=$(require("fs")),Pe=$(ze());function ct(e,t){let i=Z.resolve(e),a=Z.resolve(t),s=new Pe.default,o=new Date,h=o.getFullYear().toString()+"-"+(o.getMonth()+1).toString()+"-"+o.getDate().toString()+"-"+o.getHours().toString()+"-"+o.getMinutes().toString()+"-"+o.getSeconds().toString(),y;if(!q.existsSync(i))throw new Error("No such file or directory");if(!q.existsSync(a))throw new Error("Output path does not exist");if(!q.lstatSync(a).isDirectory())throw new Error("Output path is not directory");q.lstatSync(i).isDirectory()?s.addLocalFolder(i):s.addLocalFile(i),y=Z.basename(i)+h+".zip",s.writeZip(Z.join(a,y))}
