var Xe=Object.create;var le=Object.defineProperty;var Ke=Object.getOwnPropertyDescriptor;var We=Object.getOwnPropertyNames;var Je=Object.getPrototypeOf,Ye=Object.prototype.hasOwnProperty;var F=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var $e=(e,t,s,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let f of We(t))!Ye.call(e,f)&&f!==s&&le(e,f,{get:()=>t[f],enumerable:!(a=Ke(t,f))||a.enumerable});return e};var k=(e,t,s)=>(s=e!=null?Xe(Je(e)):{},$e(t||!e||!e.__esModule?le(s,"default",{value:e,enumerable:!0}):s,e));var ee=F(de=>{de.require=function(){if(typeof process=="object"&&process.versions&&process.versions.electron)try{let e=require("original-fs");if(Object.keys(e).length>0)return e}catch{}return require("fs")}});var te=F((ht,me)=>{me.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}});var re=F((Nt,Ie)=>{Ie.exports={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed",FILE_IN_THE_WAY:"There is a file in the way: %s",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:"File not found: %s",NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found"}});var De=F((Dt,Ne)=>{var Qe=ee().require(),U=require("path"),ge=te(),ke=re(),et=typeof process=="object"&&process.platform==="win32",he=e=>e&&typeof e=="object",ne=new Uint32Array(256).map((e,t)=>{for(let s=0;s<8;s++)t&1?t=3988292384^t>>>1:t>>>=1;return t>>>0});function A(e){this.sep=U.sep,this.fs=Qe,he(e)&&he(e.fs)&&typeof e.fs.statSync=="function"&&(this.fs=e.fs)}Ne.exports=A;A.prototype.makeDir=function(e){let t=this;function s(a){let f=a.split(t.sep)[0];a.split(t.sep).forEach(function(o){if(!(!o||o.substr(-1,1)===":")){f+=t.sep+o;var g;try{g=t.fs.statSync(f)}catch{t.fs.mkdirSync(f)}if(g&&g.isFile())throw ke.FILE_IN_THE_WAY.replace("%s",f)}})}s(e)};A.prototype.writeFileTo=function(e,t,s,a){let f=this;if(f.fs.existsSync(e)){if(!s)return!1;var o=f.fs.statSync(e);if(o.isDirectory())return!1}var g=U.dirname(e);f.fs.existsSync(g)||f.makeDir(g);var D;try{D=f.fs.openSync(e,"w",438)}catch{f.fs.chmodSync(e,438),D=f.fs.openSync(e,"w",438)}if(D)try{f.fs.writeSync(D,t,0,t.length,0)}finally{f.fs.closeSync(D)}return f.fs.chmodSync(e,a||438),!0};A.prototype.writeFileToAsync=function(e,t,s,a,f){typeof a=="function"&&(f=a,a=void 0);let o=this;o.fs.exists(e,function(g){if(g&&!s)return f(!1);o.fs.stat(e,function(D,N){if(g&&N.isDirectory())return f(!1);var L=U.dirname(e);o.fs.exists(L,function(c){c||o.makeDir(L),o.fs.open(e,"w",438,function(l,d){l?o.fs.chmod(e,438,function(){o.fs.open(e,"w",438,function(u,n){o.fs.write(n,t,0,t.length,0,function(){o.fs.close(n,function(){o.fs.chmod(e,a||438,function(){f(!0)})})})})}):d?o.fs.write(d,t,0,t.length,0,function(){o.fs.close(d,function(){o.fs.chmod(e,a||438,function(){f(!0)})})}):o.fs.chmod(e,a||438,function(){f(!0)})})})})})};A.prototype.findFiles=function(e){let t=this;function s(a,f,o){typeof f=="boolean"&&(o=f,f=void 0);let g=[];return t.fs.readdirSync(a).forEach(function(D){var N=U.join(a,D);t.fs.statSync(N).isDirectory()&&o&&(g=g.concat(s(N,f,o))),(!f||f.test(N))&&g.push(U.normalize(N)+(t.fs.statSync(N).isDirectory()?t.sep:""))}),g}return s(e,void 0,!0)};A.prototype.getAttributes=function(){};A.prototype.setAttributes=function(){};A.crc32update=function(e,t){return ne[(e^t)&255]^e>>>8};A.crc32=function(e){typeof e=="string"&&(e=Buffer.from(e,"utf8")),ne.length||genCRCTable();let t=e.length,s=-1;for(let a=0;a<t;)s=A.crc32update(s,e[a++]);return~s>>>0};A.methodToString=function(e){switch(e){case ge.STORED:return"STORED ("+e+")";case ge.DEFLATED:return"DEFLATED ("+e+")";default:return"UNSUPPORTED ("+e+")"}};A.canonical=function(e){if(!e)return"";var t=U.posix.normalize("/"+e.split("\\").join("/"));return U.join(".",t)};A.sanitize=function(e,t){e=U.resolve(U.normalize(e));for(var s=t.split("/"),a=0,f=s.length;a<f;a++){var o=U.normalize(U.join(e,s.slice(a,f).join(U.sep)));if(o.indexOf(e)===0)return o}return U.normalize(U.join(e,U.basename(t)))};A.toBuffer=function(t){return Buffer.isBuffer(t)?t:t instanceof Uint8Array?Buffer.from(t):typeof t=="string"?Buffer.from(t,"utf8"):Buffer.alloc(0)};A.readBigUInt64LE=function(e,t){var s=Buffer.from(e.slice(t,t+8));return s.swap64(),parseInt(`0x${s.toString("hex")}`)};A.isWin=et;A.crcTable=ne});var Ce=F((yt,Le)=>{var K=ee().require(),ye=require("path");K.existsSync=K.existsSync||ye.existsSync;Le.exports=function(e){var t=e||"",s=f(),a=null;function f(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return t&&K.existsSync(t)?(a=K.statSync(t),s.directory=a.isDirectory(),s.mtime=a.mtime,s.atime=a.atime,s.executable=(73&a.mode)!==0,s.readonly=(128&a.mode)===0,s.hidden=ye.basename(t)[0]==="."):console.warn("Invalid path: "+t),{get directory(){return s.directory},get readOnly(){return s.readonly},get hidden(){return s.hidden},get mtime(){return s.mtime},get atime(){return s.atime},get executable(){return s.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:t,isDirectory:s.directory,isReadOnly:s.readonly,isHidden:s.hidden,isExecutable:s.executable,mTime:s.mtime,aTime:s.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var z=F((Lt,V)=>{V.exports=De();V.exports.Constants=te();V.exports.Errors=re();V.exports.FileAttr=Ce()});var pe=F((Ct,Se)=>{var j=z(),I=j.Constants;Se.exports=function(){var e=20,t=10,s=0,a=0,f=0,o=0,g=0,D=0,N=0,L=0,c=0,l=0,d=0,u=0,n=0;e|=j.isWin?2560:768,s|=I.FLG_EFS;var i={};function E(r){r=new Date(r),f=(r.getFullYear()-1980&127)<<25|r.getMonth()+1<<21|r.getDate()<<16|r.getHours()<<11|r.getMinutes()<<5|r.getSeconds()>>1}return E(+new Date),{get made(){return e},set made(r){e=r},get version(){return t},set version(r){t=r},get flags(){return s},set flags(r){s=r},get method(){return a},set method(r){switch(r){case I.STORED:this.version=10;case I.DEFLATED:default:this.version=20}a=r},get time(){return new Date((f>>25&127)+1980,(f>>21&15)-1,f>>16&31,f>>11&31,f>>5&63,(f&31)<<1)},set time(r){E(r)},get crc(){return o},set crc(r){o=Math.max(0,r)>>>0},get compressedSize(){return g},set compressedSize(r){g=Math.max(0,r)>>>0},get size(){return D},set size(r){D=Math.max(0,r)>>>0},get fileNameLength(){return N},set fileNameLength(r){N=r},get extraLength(){return L},set extraLength(r){L=r},get commentLength(){return c},set commentLength(r){c=r},get diskNumStart(){return l},set diskNumStart(r){l=Math.max(0,r)>>>0},get inAttr(){return d},set inAttr(r){d=Math.max(0,r)>>>0},get attr(){return u},set attr(r){u=Math.max(0,r)>>>0},get fileAttr(){return u?(u>>>0|0)>>16&4095:0},get offset(){return n},set offset(r){n=Math.max(0,r)>>>0},get encripted(){return(s&1)===1},get entryHeaderSize(){return I.CENHDR+N+L+c},get realDataOffset(){return n+I.LOCHDR+i.fnameLen+i.extraLen},get dataHeader(){return i},loadDataHeaderFromBinary:function(r){var m=r.slice(n,n+I.LOCHDR);if(m.readUInt32LE(0)!==I.LOCSIG)throw new Error(j.Errors.INVALID_LOC);i={version:m.readUInt16LE(I.LOCVER),flags:m.readUInt16LE(I.LOCFLG),method:m.readUInt16LE(I.LOCHOW),time:m.readUInt32LE(I.LOCTIM),crc:m.readUInt32LE(I.LOCCRC),compressedSize:m.readUInt32LE(I.LOCSIZ),size:m.readUInt32LE(I.LOCLEN),fnameLen:m.readUInt16LE(I.LOCNAM),extraLen:m.readUInt16LE(I.LOCEXT)}},loadFromBinary:function(r){if(r.length!==I.CENHDR||r.readUInt32LE(0)!==I.CENSIG)throw new Error(j.Errors.INVALID_CEN);e=r.readUInt16LE(I.CENVEM),t=r.readUInt16LE(I.CENVER),s=r.readUInt16LE(I.CENFLG),a=r.readUInt16LE(I.CENHOW),f=r.readUInt32LE(I.CENTIM),o=r.readUInt32LE(I.CENCRC),g=r.readUInt32LE(I.CENSIZ),D=r.readUInt32LE(I.CENLEN),N=r.readUInt16LE(I.CENNAM),L=r.readUInt16LE(I.CENEXT),c=r.readUInt16LE(I.CENCOM),l=r.readUInt16LE(I.CENDSK),d=r.readUInt16LE(I.CENATT),u=r.readUInt32LE(I.CENATX),n=r.readUInt32LE(I.CENOFF)},dataHeaderToBinary:function(){var r=Buffer.alloc(I.LOCHDR);return r.writeUInt32LE(I.LOCSIG,0),r.writeUInt16LE(t,I.LOCVER),r.writeUInt16LE(s,I.LOCFLG),r.writeUInt16LE(a,I.LOCHOW),r.writeUInt32LE(f,I.LOCTIM),r.writeUInt32LE(o,I.LOCCRC),r.writeUInt32LE(g,I.LOCSIZ),r.writeUInt32LE(D,I.LOCLEN),r.writeUInt16LE(N,I.LOCNAM),r.writeUInt16LE(L,I.LOCEXT),r},entryHeaderToBinary:function(){var r=Buffer.alloc(I.CENHDR+N+L+c);return r.writeUInt32LE(I.CENSIG,0),r.writeUInt16LE(e,I.CENVEM),r.writeUInt16LE(t,I.CENVER),r.writeUInt16LE(s,I.CENFLG),r.writeUInt16LE(a,I.CENHOW),r.writeUInt32LE(f,I.CENTIM),r.writeUInt32LE(o,I.CENCRC),r.writeUInt32LE(g,I.CENSIZ),r.writeUInt32LE(D,I.CENLEN),r.writeUInt16LE(N,I.CENNAM),r.writeUInt16LE(L,I.CENEXT),r.writeUInt16LE(c,I.CENCOM),r.writeUInt16LE(l,I.CENDSK),r.writeUInt16LE(d,I.CENATT),r.writeUInt32LE(u,I.CENATX),r.writeUInt32LE(n,I.CENOFF),r.fill(0,I.CENHDR),r},toJSON:function(){let r=function(m){return m+" bytes"};return{made:e,version:t,flags:s,method:j.methodToString(a),time:this.time,crc:"0x"+o.toString(16).toUpperCase(),compressedSize:r(g),size:r(D),fileNameLength:r(N),extraLength:r(L),commentLength:r(c),diskNumStart:l,inAttr:d,attr:u,offset:n,entryHeaderSize:r(I.CENHDR+N+L+c)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var Oe=F((St,_e)=>{var P=z(),S=P.Constants;_e.exports=function(){var e=0,t=0,s=0,a=0,f=0;return{get diskEntries(){return e},set diskEntries(o){e=t=o},get totalEntries(){return t},set totalEntries(o){t=e=o},get size(){return s},set size(o){s=o},get offset(){return a},set offset(o){a=o},get commentLength(){return f},set commentLength(o){f=o},get mainHeaderSize(){return S.ENDHDR+f},loadFromBinary:function(o){if((o.length!==S.ENDHDR||o.readUInt32LE(0)!==S.ENDSIG)&&(o.length<S.ZIP64HDR||o.readUInt32LE(0)!==S.ZIP64SIG))throw new Error(P.Errors.INVALID_END);o.readUInt32LE(0)===S.ENDSIG?(e=o.readUInt16LE(S.ENDSUB),t=o.readUInt16LE(S.ENDTOT),s=o.readUInt32LE(S.ENDSIZ),a=o.readUInt32LE(S.ENDOFF),f=o.readUInt16LE(S.ENDCOM)):(e=P.readBigUInt64LE(o,S.ZIP64SUB),t=P.readBigUInt64LE(o,S.ZIP64TOT),s=P.readBigUInt64LE(o,S.ZIP64SIZE),a=P.readBigUInt64LE(o,S.ZIP64OFF),f=0)},toBinary:function(){var o=Buffer.alloc(S.ENDHDR+f);return o.writeUInt32LE(S.ENDSIG,0),o.writeUInt32LE(0,4),o.writeUInt16LE(e,S.ENDSUB),o.writeUInt16LE(t,S.ENDTOT),o.writeUInt32LE(s,S.ENDSIZ),o.writeUInt32LE(a,S.ENDOFF),o.writeUInt16LE(f,S.ENDCOM),o.fill(" ",S.ENDHDR),o},toJSON:function(){let o=function(g,D){let N=g.toString(16).toUpperCase();for(;N.length<D;)N="0"+N;return"0x"+N};return{diskEntries:e,totalEntries:t,size:s+" bytes",offset:o(a,4),commentLength:f}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var ie=F(oe=>{oe.EntryHeader=pe();oe.MainHeader=Oe()});var Te=F((_t,xe)=>{xe.exports=function(e){var t=require("zlib"),s={chunkSize:(parseInt(e.length/1024)+1)*1024};return{deflate:function(){return t.deflateRawSync(e,s)},deflateAsync:function(a){var f=t.createDeflateRaw(s),o=[],g=0;f.on("data",function(D){o.push(D),g+=D.length}),f.on("end",function(){var D=Buffer.alloc(g),N=0;D.fill(0);for(var L=0;L<o.length;L++){var c=o[L];c.copy(D,N),N+=c.length}a&&a(D)}),f.end(e)}}}});var we=F((Ot,Ae)=>{Ae.exports=function(e){var t=require("zlib");return{inflate:function(){return t.inflateRawSync(e)},inflateAsync:function(s){var a=t.createInflateRaw(),f=[],o=0;a.on("data",function(g){f.push(g),o+=g.length}),a.on("end",function(){var g=Buffer.alloc(o),D=0;g.fill(0);for(var N=0;N<f.length;N++){var L=f[N];L.copy(g,D),D+=L.length}s&&s(g)}),a.end(e)}}}});var Be=F((xt,ve)=>{"use strict";var{randomFillSync:Fe}=require("crypto"),tt=new Uint32Array(256).map((e,t)=>{for(let s=0;s<8;s++)t&1?t=t>>>1^3988292384:t>>>=1;return t>>>0}),Ue=(e,t)=>Math.imul(e,t)>>>0,Re=(e,t)=>tt[(e^t)&255]^e>>>8,b=()=>typeof Fe=="function"?Fe(Buffer.alloc(12)):b.node();b.node=()=>{let e=Buffer.alloc(12),t=e.length;for(let s=0;s<t;s++)e[s]=Math.random()*256&255;return e};var W={genSalt:b};function J(e){let t=Buffer.isBuffer(e)?e:Buffer.from(e);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let s=0;s<t.length;s++)this.updateKeys(t[s])}J.prototype.updateKeys=function(e){let t=this.keys;return t[0]=Re(t[0],e),t[1]+=t[0]&255,t[1]=Ue(t[1],134775813)+1,t[2]=Re(t[2],t[1]>>>24),e};J.prototype.next=function(){let e=(this.keys[2]|2)>>>0;return Ue(e,e^1)>>8&255};function rt(e){let t=new J(e);return function(s){let a=Buffer.alloc(s.length),f=0;for(let o of s)a[f++]=t.updateKeys(o^t.next());return a}}function nt(e){let t=new J(e);return function(s,a,f=0){a||(a=Buffer.alloc(s.length));for(let o of s){let g=t.next();a[f++]=o^g,t.updateKeys(o)}return a}}function ot(e,t,s){if(!e||!Buffer.isBuffer(e)||e.length<12)return Buffer.alloc(0);let a=rt(s);if(a(e.slice(0,12))[11]!==t.crc>>>24)throw"ADM-ZIP: Wrong Password";return a(e.slice(12))}function it(e){Buffer.isBuffer(e)&&e.length>=12?W.genSalt=function(){return e.slice(0,12)}:e==="node"?W.genSalt=b.node:W.genSalt=b}function st(e,t,s,a=!1){e==null&&(e=Buffer.alloc(0)),Buffer.isBuffer(e)||(e=Buffer.from(e.toString()));let f=nt(s),o=W.genSalt();o[11]=t.crc>>>24&255,a&&(o[10]=t.crc>>>16&255);let g=Buffer.alloc(e.length+12);return f(o,g),f(e,g,12)}ve.exports={decrypt:ot,encrypt:st,_salter:it}});var He=F(Y=>{Y.Deflater=Te();Y.Inflater=we();Y.ZipCrypto=Be()});var fe=F((At,Ze)=>{var p=z(),ft=ie(),v=p.Constants,se=He();Ze.exports=function(e){var t=new ft.EntryHeader,s=Buffer.alloc(0),a=Buffer.alloc(0),f=!1,o=null,g=Buffer.alloc(0);function D(){return!e||!Buffer.isBuffer(e)?Buffer.alloc(0):(t.loadDataHeaderFromBinary(e),e.slice(t.realDataOffset,t.realDataOffset+t.compressedSize))}function N(n){return!((t.flags&8)!==8&&p.crc32(n)!==t.dataHeader.crc)}function L(n,i,E){if(typeof i>"u"&&typeof n=="string"&&(E=n,n=void 0),f)return n&&i&&i(Buffer.alloc(0),p.Errors.DIRECTORY_CONTENT_ERROR),Buffer.alloc(0);var r=D();if(r.length===0)return n&&i&&i(r),r;if(t.encripted){if(typeof E!="string"&&!Buffer.isBuffer(E))throw new Error("ADM-ZIP: Incompatible password parameter");r=se.ZipCrypto.decrypt(r,t,E)}var m=Buffer.alloc(t.size);switch(t.method){case p.Constants.STORED:if(r.copy(m),N(m))return n&&i&&i(m),m;throw n&&i&&i(m,p.Errors.BAD_CRC),new Error(p.Errors.BAD_CRC);case p.Constants.DEFLATED:var h=new se.Inflater(r);if(n)h.inflateAsync(function(y){y.copy(y,0),i&&(N(y)?i(y):i(y,p.Errors.BAD_CRC))});else{if(h.inflate(m).copy(m,0),!N(m))throw new Error(p.Errors.BAD_CRC+" "+s.toString());return m}break;default:throw n&&i&&i(Buffer.alloc(0),p.Errors.UNKNOWN_METHOD),new Error(p.Errors.UNKNOWN_METHOD)}}function c(n,i){if((!o||!o.length)&&Buffer.isBuffer(e))return n&&i&&i(D()),D();if(o.length&&!f){var E;switch(t.method){case p.Constants.STORED:return t.compressedSize=t.size,E=Buffer.alloc(o.length),o.copy(E),n&&i&&i(E),E;default:case p.Constants.DEFLATED:var r=new se.Deflater(o);if(n)r.deflateAsync(function(h){E=Buffer.alloc(h.length),t.compressedSize=h.length,h.copy(E),i&&i(E)});else{var m=r.deflate();return t.compressedSize=m.length,m}r=null;break}}else if(n&&i)i(Buffer.alloc(0));else return Buffer.alloc(0)}function l(n,i){return(n.readUInt32LE(i+4)<<4)+n.readUInt32LE(i)}function d(n){for(var i=0,E,r,m;i<n.length;)E=n.readUInt16LE(i),i+=2,r=n.readUInt16LE(i),i+=2,m=n.slice(i,i+r),i+=r,v.ID_ZIP64===E&&u(m)}function u(n){var i,E,r,m;n.length>=v.EF_ZIP64_SCOMP&&(i=l(n,v.EF_ZIP64_SUNCOMP),t.size===v.EF_ZIP64_OR_32&&(t.size=i)),n.length>=v.EF_ZIP64_RHO&&(E=l(n,v.EF_ZIP64_SCOMP),t.compressedSize===v.EF_ZIP64_OR_32&&(t.compressedSize=E)),n.length>=v.EF_ZIP64_DSN&&(r=l(n,v.EF_ZIP64_RHO),t.offset===v.EF_ZIP64_OR_32&&(t.offset=r)),n.length>=v.EF_ZIP64_DSN+4&&(m=n.readUInt32LE(v.EF_ZIP64_DSN),t.diskNumStart===v.EF_ZIP64_OR_16&&(t.diskNumStart=m))}return{get entryName(){return s.toString()},get rawEntryName(){return s},set entryName(n){s=p.toBuffer(n);var i=s[s.length-1];f=i===47||i===92,t.fileNameLength=s.length},get extra(){return g},set extra(n){g=n,t.extraLength=n.length,d(n)},get comment(){return a.toString()},set comment(n){a=p.toBuffer(n),t.commentLength=a.length},get name(){var n=s.toString();return f?n.substr(n.length-1).split("/").pop():n.split("/").pop()},get isDirectory(){return f},getCompressedData:function(){return c(!1,null)},getCompressedDataAsync:function(n){c(!0,n)},setData:function(n){o=p.toBuffer(n),!f&&o.length?(t.size=o.length,t.method=p.Constants.DEFLATED,t.crc=p.crc32(n),t.changed=!0):t.method=p.Constants.STORED},getData:function(n){return t.changed?o:L(!1,null,n)},getDataAsync:function(n,i){t.changed?n(o):L(!0,n,i)},set attr(n){t.attr=n},get attr(){return t.attr},set header(n){t.loadFromBinary(n)},get header(){return t},packHeader:function(){var n=t.entryHeaderToBinary(),i=p.Constants.CENHDR;return s.copy(n,i),i+=s.length,t.extraLength&&(g.copy(n,i),i+=t.extraLength),t.commentLength&&a.copy(n,i),n},toJSON:function(){let n=function(i){return"<"+(i&&i.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:t.toJSON(),compressedData:n(e),data:n(o)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var Pe=F((wt,ze)=>{var Me=fe(),ct=ie(),R=z();ze.exports=function(e,t){var s=[],a={},f=Buffer.alloc(0),o=new ct.MainHeader,g=!1;let D=Object.assign(Object.create(null),t),{noSort:N}=D;e?l(D.readEntries):g=!0;function L(u){let n=o.diskEntries,i=o.offset;for(let E=0;E<n;E++){let r=i,m=new Me(e);m.header=e.slice(r,r+=R.Constants.CENHDR),m.entryName=e.slice(r,r+=m.header.fileNameLength),i+=m.header.entryHeaderSize,u(m)}}function c(){g=!0,a={},s=new Array(o.diskEntries);for(var u=o.offset,n=0;n<s.length;n++){var i=u,E=new Me(e);E.header=e.slice(i,i+=R.Constants.CENHDR),E.entryName=e.slice(i,i+=E.header.fileNameLength),E.header.extraLength&&(E.extra=e.slice(i,i+=E.header.extraLength)),E.header.commentLength&&(E.comment=e.slice(i,i+E.header.commentLength)),u+=E.header.entryHeaderSize,s[n]=E,a[E.entryName]=E}}function l(u){var n=e.length-R.Constants.ENDHDR,i=Math.max(0,n-65535),E=i,r=e.length,m=-1,h=0;for(n;n>=E;n--)if(e[n]===80){if(e.readUInt32LE(n)===R.Constants.ENDSIG){m=n,h=n,r=n+R.Constants.ENDHDR,E=n-R.Constants.END64HDR;continue}if(e.readUInt32LE(n)===R.Constants.END64SIG){E=i;continue}if(e.readUInt32LE(n)===R.Constants.ZIP64SIG){m=n,r=n+R.readBigUInt64LE(e,n+R.Constants.ZIP64SIZE)+R.Constants.ZIP64LEAD;break}}if(!~m)throw new Error(R.Errors.INVALID_FORMAT);o.loadFromBinary(e.slice(m,r)),o.commentLength&&(f=e.slice(h+R.Constants.ENDHDR)),u&&c()}function d(){s.length>1&&!N&&s.sort((u,n)=>u.entryName.toLowerCase().localeCompare(n.entryName.toLowerCase()))}return{get entries(){return g||c(),s},get comment(){return f.toString()},set comment(u){f=R.toBuffer(u),o.commentLength=f.length},getEntryCount:function(){return g?s.length:o.diskEntries},forEach:function(u){if(!g){L(u);return}s.forEach(u)},getEntry:function(u){return g||c(),a[u]||null},setEntry:function(u){g||c(),s.push(u),a[u.entryName]=u,o.totalEntries=s.length},deleteEntry:function(u){g||c();var n=a[u];if(n&&n.isDirectory){var i=this;this.getEntryChildren(n).forEach(function(E){E.entryName!==u&&i.deleteEntry(E.entryName)})}s.splice(s.indexOf(n),1),delete a[u],o.totalEntries=s.length},getEntryChildren:function(u){if(g||c(),u&&u.isDirectory){let n=[],i=u.entryName,E=i.length;return s.forEach(function(r){r.entryName.substr(0,E)===i&&n.push(r)}),n}return[]},compressToBuffer:function(){g||c(),d();let u=[],n=[],i=0,E=0;o.size=0,o.offset=0;for(let h of s){let y=h.getCompressedData();h.header.offset=E;let O=h.header.dataHeaderToBinary(),_=h.rawEntryName.length,C=Buffer.alloc(_+h.extra.length);h.rawEntryName.copy(C,0),C.copy(h.extra,_);let T=O.length+C.length+y.length;E+=T,u.push(O),u.push(C),u.push(y);let w=h.packHeader();n.push(w),o.size+=w.length,i+=T+w.length}i+=o.mainHeaderSize,o.offset=E,E=0;let r=Buffer.alloc(i);for(let h of u)h.copy(r,E),E+=h.length;for(let h of n)h.copy(r,E),E+=h.length;let m=o.toBinary();return f&&f.copy(m,R.Constants.ENDHDR),m.copy(r,E),r},toAsyncBuffer:function(u,n,i,E){try{g||c(),d();let r=[],m=[],h=0,y=0;o.size=0,o.offset=0;let O=function(_){if(_.length){let C=_.pop(),T=C.entryName+C.extra.toString();i&&i(T),C.getCompressedDataAsync(function(w){E&&E(T),C.header.offset=y;let M=C.header.dataHeaderToBinary(),ae=Buffer.alloc(T.length,T),Ee=M.length+ae.length+w.length;y+=Ee,r.push(M),r.push(ae),r.push(w);let Q=C.packHeader();m.push(Q),o.size+=Q.length,h+=Ee+Q.length,O(_)})}else{h+=o.mainHeaderSize,o.offset=y,y=0;let C=Buffer.alloc(h);r.forEach(function(w){w.copy(C,y),y+=w.length}),m.forEach(function(w){w.copy(C,y),y+=w.length});let T=o.toBinary();f&&f.copy(T,R.Constants.ENDHDR),T.copy(C,y),u(C)}};O(s)}catch(r){n(r)}}}}});var Ge=F((Ft,qe)=>{var x=z(),H=require("path"),ut=fe(),at=Pe(),Z=(e,t)=>typeof e=="boolean"?e:t,ce=(e,t)=>typeof e=="string"?e:t,Et={noSort:!1,readEntries:!1,method:x.Constants.NONE,fs:null};qe.exports=function(e,t){let s=null,a=Object.assign(Object.create(null),Et);e&&typeof e=="object"&&(e instanceof Uint8Array||(Object.assign(a,e),e=a.input?a.input:void 0,a.input&&delete a.input),Buffer.isBuffer(e)&&(s=e,a.method=x.Constants.BUFFER,e=void 0)),Object.assign(a,t);let f=new x(a);if(e&&typeof e=="string")if(f.fs.existsSync(e))a.method=x.Constants.FILE,a.filename=e,s=f.fs.readFileSync(e);else throw new Error(x.Errors.INVALID_FILENAME);let o=new at(s,a),{canonical:g,sanitize:D}=x;function N(c){if(c&&o){var l;if(typeof c=="string"&&(l=o.getEntry(c)),typeof c=="object"&&typeof c.entryName<"u"&&typeof c.header<"u"&&(l=o.getEntry(c.entryName)),l)return l}return null}function L(c){let{join:l,normalize:d,sep:u}=H.posix;return l(".",d(u+c.split("\\").join(u)+u))}return{readFile:function(c,l){var d=N(c);return d&&d.getData(l)||null},readFileAsync:function(c,l){var d=N(c);d?d.getDataAsync(l):l(null,"getEntry failed for:"+c)},readAsText:function(c,l){var d=N(c);if(d){var u=d.getData();if(u&&u.length)return u.toString(l||"utf8")}return""},readAsTextAsync:function(c,l,d){var u=N(c);u?u.getDataAsync(function(n,i){if(i){l(n,i);return}n&&n.length?l(n.toString(d||"utf8")):l("")}):l("")},deleteFile:function(c){var l=N(c);l&&o.deleteEntry(l.entryName)},addZipComment:function(c){o.comment=c},getZipComment:function(){return o.comment||""},addZipEntryComment:function(c,l){var d=N(c);d&&(d.comment=l)},getZipEntryComment:function(c){var l=N(c);return l&&l.comment||""},updateFile:function(c,l){var d=N(c);d&&d.setData(l)},addLocalFile:function(c,l,d,u){if(f.fs.existsSync(c)){l=l?L(l):"";var n=c.split("\\").join("/").split("/").pop();l+=d||n;let i=f.fs.statSync(c);this.addFile(l,f.fs.readFileSync(c),u,i)}else throw new Error(x.Errors.FILE_NOT_FOUND.replace("%s",c))},addLocalFolder:function(c,l,d,u){if(d instanceof RegExp?d=function(n){return function(i){return n.test(i)}}(d):typeof d!="function"&&(d=function(){return!0}),l=l?L(l):"",c=H.normalize(c),f.fs.existsSync(c)){let n=f.findFiles(c),i=this;n.length&&n.forEach(function(E){var r=H.relative(c,E).split("\\").join("/");if(d(r)){var m=f.fs.statSync(E);m.isFile()?i.addFile(l+r,f.fs.readFileSync(E),"",u||m):i.addFile(l+r+"/",Buffer.alloc(0),"",u||m)}})}else throw new Error(x.Errors.FILE_NOT_FOUND.replace("%s",c))},addLocalFolderAsync:function(c,l,d,u){u instanceof RegExp?u=function(i){return function(E){return i.test(E)}}(u):typeof u!="function"&&(u=function(){return!0}),d=d?L(d):"",c=H.normalize(c);var n=this;f.fs.open(c,"r",function(i){if(i&&i.code==="ENOENT")l(void 0,x.Errors.FILE_NOT_FOUND.replace("%s",c));else if(i)l(void 0,i);else{var E=f.findFiles(c),r=-1,m=function(){if(r+=1,r<E.length){var h=E[r],y=H.relative(c,h).split("\\").join("/");y=y.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),u(y)?f.fs.stat(h,function(O,_){O&&l(void 0,O),_.isFile()?f.fs.readFile(h,function(C,T){C?l(void 0,C):(n.addFile(d+y,T,"",_),m())}):(n.addFile(d+y+"/",Buffer.alloc(0),"",_),m())}):process.nextTick(()=>{m()})}else l(!0,void 0)};m()}})},addLocalFolderPromise:function(c,l){return new Promise((d,u)=>{let{filter:n,zipPath:i}=Object.assign({},l);this.addLocalFolderAsync(c,(E,r)=>{r&&u(r),E&&d(this)},i,n)})},addFile:function(c,l,d,u){let n=N(c),i=n!=null;i||(n=new ut,n.entryName=c),n.comment=d||"";let E=typeof u=="object"&&u instanceof f.fs.Stats;E&&(n.header.time=u.mtime);var r=n.isDirectory?16:0;let m=n.isDirectory?16384:32768;E?m|=4095&u.mode:typeof u=="number"?m|=4095&u:m|=n.isDirectory?493:420,r=(r|m<<16)>>>0,n.attr=r,n.setData(l),i||o.setEntry(n)},getEntries:function(){return o?o.entries:[]},getEntry:function(c){return N(c)},getEntryCount:function(){return o.getEntryCount()},forEach:function(c){return o.forEach(c)},extractEntryTo:function(c,l,d,u,n,i){u=Z(u,!1),n=Z(n,!1),d=Z(d,!0),i=ce(i,ce(n,void 0));var E=N(c);if(!E)throw new Error(x.Errors.NO_ENTRY);var r=g(E.entryName),m=D(l,i&&!E.isDirectory?i:d?r:H.basename(r));if(E.isDirectory){var h=o.getEntryChildren(E);return h.forEach(function(_){if(_.isDirectory)return;var C=_.getData();if(!C)throw new Error(x.Errors.CANT_EXTRACT_FILE);var T=g(_.entryName),w=D(l,d?T:H.basename(T));let M=n?_.header.fileAttr:void 0;f.writeFileTo(w,C,u,M)}),!0}var y=E.getData();if(!y)throw new Error(x.Errors.CANT_EXTRACT_FILE);if(f.fs.existsSync(m)&&!u)throw new Error(x.Errors.CANT_OVERRIDE);let O=n?c.header.fileAttr:void 0;return f.writeFileTo(m,y,u,O),!0},test:function(c){if(!o)return!1;for(var l in o.entries)try{if(l.isDirectory)continue;var d=o.entries[l].getData(c);if(!d)return!1}catch{return!1}return!0},extractAllTo:function(c,l,d,u){if(l=Z(l,!1),u=ce(d,u),d=Z(d,!1),!o)throw new Error(x.Errors.NO_ZIP);o.entries.forEach(function(n){var i=D(c,g(n.entryName.toString()));if(n.isDirectory){f.makeDir(i);return}var E=n.getData(u);if(!E)throw new Error(x.Errors.CANT_EXTRACT_FILE);let r=d?n.header.fileAttr:void 0;f.writeFileTo(i,E,l,r);try{f.fs.utimesSync(i,n.header.time,n.header.time)}catch{throw new Error(x.Errors.CANT_EXTRACT_FILE)}})},extractAllToAsync:function(c,l,d,u){if(l=Z(l,!1),typeof d=="function"&&!u&&(u=d),d=Z(d,!1),u||(u=function(h){throw new Error(h)}),!o){u(new Error(x.Errors.NO_ZIP));return}c=H.resolve(c);let n=h=>D(c,H.normalize(g(h.entryName.toString()))),i=(h,y)=>new Error(h+': "'+y+'"'),E=[],r=new Set;o.entries.forEach(h=>{h.isDirectory?E.push(h):r.add(h)});for(let h of E){let y=n(h),O=d?h.header.fileAttr:void 0;try{f.makeDir(y),O&&f.fs.chmodSync(y,O),f.fs.utimesSync(y,h.header.time,h.header.time)}catch{u(i("Unable to create folder",y))}}let m=()=>{r.size===0&&u()};for(let h of r.values()){let y=H.normalize(g(h.entryName.toString())),O=D(c,y);h.getDataAsync(function(_,C){if(C){u(new Error(C));return}if(!_)u(new Error(x.Errors.CANT_EXTRACT_FILE));else{let T=d?h.header.fileAttr:void 0;f.writeFileToAsync(O,_,l,T,function(w){if(!w){u(i("Unable to write file",O));return}f.fs.utimes(O,h.header.time,h.header.time,function(M){if(M){u(i("Unable to set times",O));return}r.delete(h),m()})})}})}m()},writeZip:function(c,l){if(arguments.length===1&&typeof c=="function"&&(l=c,c=""),!c&&a.filename&&(c=a.filename),!!c){var d=o.compressToBuffer();if(d){var u=f.writeFileTo(c,d,!0);typeof l=="function"&&l(u?null:new Error("failed"),"")}}},writeZipPromise:function(c,l){let{overwrite:d,perm:u}=Object.assign({overwrite:!0},l);return new Promise((n,i)=>{!c&&a.filename&&(c=a.filename),c||i("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(E=>{let r=m=>m?n(m):i("ADM-ZIP: Wasn't able to write zip file");f.writeFileToAsync(c,E,d,u,r)},i)})},toBufferPromise:function(){return new Promise((c,l)=>{o.toAsyncBuffer(c,l)})},toBuffer:function(c,l,d,u){return this.valueOf=2,typeof c=="function"?(o.toAsyncBuffer(c,l,d,u),null):o.compressToBuffer()}}}});var G=k(require("fs")),B=k(require("path")),je=k(Ge()),lt=process.env.NODE_ENV=="development",be=process.argv[2],Ve=process.argv[3],dt=process.pkg?B.dirname(process.execPath):B.resolve(process.cwd(),lt?"test":"");be||(console.error(`ERR: Target file or directory not specified
Usage: timezip [target file or folder]`),process.exit(-1));var X=B.resolve(be);G.existsSync(X)||(console.error("ERR: No such file or directory"),process.exit(-1));var $=new je.default;G.lstatSync(X).isDirectory()?$.addLocalFolder(X):$.addLocalFile(X);var q=new Date,mt=q.getFullYear().toString()+"-"+(q.getMonth()+1).toString()+"-"+q.getDate().toString()+"-"+q.getHours().toString()+"-"+q.getMinutes().toString()+"-"+q.getSeconds().toString(),ue=B.basename(X)+mt+".zip";if(Ve){let e=B.resolve(Ve);G.lstatSync(e).isDirectory()||(console.error("ERR: Output path is not directory"),process.exit(-1)),G.existsSync(e)||(console.error("ERR: Output path does not exist"),process.exit(-1)),$.writeZip(B.join(e,ue))}else $.writeZip(B.join(dt,ue));console.log(`Archive "${ue}" successfully created.`);
